branches:
  only:
  - master
language: c
compiler:
- gcc
- clang
env:
- QTDIR=/usr
build:
  pre_ci_boot:
    image_name: drydock/u16cppall
    image_tag: v6.7.4
  ci:
  - sudo apt update
  - sudo apt install build-essential cmake git qt5-default libqt5svg5 libqt5svg5-dev libqt5serialport5 libqt5serialport5-dev
  - mkdir build
  - cd build
  - cmake -DCMAKE_INSTALL_PREFIX=dist ..
  - make
  - make install
  - ctest --verbose
  - cat src/eeprom/result-*.xml
  - cpack